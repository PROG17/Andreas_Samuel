<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
  <link rel="stylesheet" type="text/css" media="screen" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/base/jquery-ui.css">
  <script type="text/javascript" src="scripts/weekpicker.js"></script>
  <script type="text/javascript" defer src="scripts/datepicker-swedish.js"></script>
  <script src="scripts/moment-with-locales.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/locale/sv.js"></script> -->
</head>

<body>
  <div class="container">
    <header>
      <div class="jumbotron">
        <h1>Sundre skola</h1>
      </div>
      <nav class="navbar navbar-expand-sm bg-light">
          <ul class="navbar-nav">
            <li class="nav-item">
              <button class="btn btn-info btn-sm" data-toggle="modal" data-target="#booking">Boka</button>
              <div class="modal fade" id="booking">
                  <div class="modal-dialog">
                    <div class="modal-content">
                
                      <!-- Modal Header -->
                      <div class="modal-header">
                        <h4 class="modal-title">Boka</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                
                      <!-- Modal body -->
                      <div class="modal-body">
                        <!-- <form> -->
                          
                          <div class="form-group">
                              <input type="button" class="week-picker btn btn-sm btn-primary" value="Välj veckor"/>
                              <table id="weeks" class="table form-control">
                                <thead>
                                  <tr>
                                    <th>Du har valt vecka:</th>
                                  </tr>
                              </thead>
                              <tbody>
                              </tbody>
                              </table>
                              <input type="hidden" id="startDate"/>
                              <input type="hidden" id="endDate"/>
                              <script type="text/javascript">
                                  function getUnavailableDates(){
                                      return ["2018-02-12", "2018-02-13", "2018-02-14","2018-02-15","2018-02-16", "2018-02-17", "2018-02-18"];
                                  }
                              </script>
                          </div>

                          <div class="form-group">
                              <label>Att betala</label>
                              <input class="form-control" type="text" name="namn">
                            </div>
                            <div class="form-group">
                                <label>Föramn</label>
                                <input id="firstname" class="form-control" type="text" name="namn">
                              </div>
                              <div class="form-group">
                                  <label>Efternamn</label>
                                  <input id="lastname" class="form-control" type="text" name="namn">
                                </div>
                                <div class="form-group">
                                  <label>Personnummer</label>
                                  <input id="identitycode" class="form-control" type="text" name="namn">
                                </div>
                                <div class="form-group">
                                  <label>Adress</label>
                                  <input id="streetaddress" class="form-control" type="text" name="namn">
                                </div>
                                <div class="form-group">
                                  <label>Postnummer</label>
                                  <input id="postalcode" class="form-control" type="text" name="namn">
                                </div>
                                <div class="form-group">
                                  <label>Ort</label>
                                  <input id="city" class="form-control" type="text" name="namn">
                                </div>
                                <div class="form-group">
                                  <label>Telefon</label>
                                  <input id="phone" class="form-control" type="text" name="namn">
                                </div>
                                <div class="form-group">
                                  <label>Email</label>
                                  <input id="email" class="form-control" type="text" name="namn">
                                </div>
                                <button id="saveBtn">Spara</button>
                                <script>
                                  $(function(){

                                    function getDatesFromUserInput(){
                                      var dateInputs = $(".startDate");
                                      var dates = new Array();
                                      for (let i = 0; i < dateInputs.length; i++) {
                                        dates.push($(dateInputs[i]).val());
                                      }
                                      let counter = 1;
                                      let allDates = new Array();

                                      for (let i = 0; i < dates.length; i++) {
                                          for (let j = 0; j < 7; j++) {
                                          let tempDate = new moment(dates[i]);
                                          tempDate.add(j, 'day');
                                          allDates.push(tempDate.format('YYYY-MM-DD'));
                                          } 
                                      }
                                      return allDates;
                                      };

                                    $("#saveBtn").click(function(){
                                      let dates = getDatesFromUserInput();
                                      let fName = $("#firstname").val();
                                      let lName = $("#lastname").val();
                                      let identityCode = $("#identitycode").val();
                                      let street = $("#streetaddress").val();
                                      let postalCode = $("#postalcode").val();
                                      let city = $("#city").val();
                                      let phone = $("#phone").val();
                                      let email = $("#email").val();
                                      let bookingDate = moment().format('YYYY-MM-DD');
                                    });
                                  });
                                </script>
                        <!-- </form> -->
                      </div>
                
                      <!-- Modal footer -->
                      <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Stäng</button>
                      </div>
                
                    </div>
                  </div>
                </div>
            </li>
            <li class="nav-item">
              <button class="btn btn-info btn-sm">Ingår</button>
            </li>
            <li class="nav-item">
              <button class="btn btn-info btn-sm">Hitta hit</button>
            </li>
            <li class="nav-item">
              <button class="btn btn-info btn-sm">Historia</button>
            </li>
          </ul>
        </nav>
    </header>
    <section>
      <article id="content"></article>
    </section>
    <footer>

    </footer>
  </div>
  <script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyCy-hfqqHNnyiWWplbVXE6wGZfQp31_t4E",
      authDomain: "sundreskola-4a027.firebaseapp.com",
      databaseURL: "https://sundreskola-4a027.firebaseio.com",
      projectId: "sundreskola-4a027",
      storageBucket: "",
      messagingSenderId: "384957736409"
    };
    firebase.initializeApp(config);
  </script>
</body>

</html>